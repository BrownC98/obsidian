---
created: 2025-05-29T23:47
updated: 2025-05-30T01:25
version: 1.1
---

# 3. PHP ë°±ì—”ë“œ API ëª…ì„¸ v1.1

## 1. API ê°œìš”

### 1.1 ê¸°ë³¸ ì •ë³´

- **Base URL**: `http://localhost:8000/api/v1`
- **í”„ë¡œí† ì½œ**: HTTP/HTTPS
- **ë°ì´í„° í˜•ì‹**: JSON
- **ì¸ì½”ë”©**: UTF-8
- **ì¸ì¦ ë°©ì‹**: JWT Bearer Token

### 1.2 ê³µí†µ í—¤ë”

```http
Content-Type: application/json
Accept: application/json
Authorization: Bearer {jwt_token}
```

### 1.3 HTTP ìƒíƒœ ì½”ë“œ

- `200 OK`: ì„±ê³µ
- `201 Created`: ìƒì„± ì„±ê³µ
- `400 Bad Request`: ì˜ëª»ëœ ìš”ì²­
- `401 Unauthorized`: ì¸ì¦ ì‹¤íŒ¨
- `403 Forbidden`: ê¶Œí•œ ë¶€ì¡±
- `404 Not Found`: ë¦¬ì†ŒìŠ¤ ì—†ìŒ
- `422 Unprocessable Entity`: ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨
- `500 Internal Server Error`: ì„œë²„ ì˜¤ë¥˜

### 1.4 ë°ì´í„° ëª¨ë¸ ì°¸ì¡°

**ëª¨ë“  ì‘ë‹µ ë°ì´í„° êµ¬ì¡°**: [ğŸ“„ 05. ì£¼ìš” ë°ì´í„° ëª¨ë¸ ì •ì˜ ì°¸ì¡°](./05.%20ì£¼ìš”%20ë°ì´í„°%20ëª¨ë¸%20ì •ì˜.md)

## 2. ì¸ì¦ API

### 2.1 íšŒì›ê°€ì…

**POST** `/auth/register`

```json
// Request
{
  "email": "user@example.com",
  "password": "password123!",
  "password_confirmation": "password123!",
  "nickname": "ì‚¬ìš©ìë‹‰ë„¤ì„"
}

// Response (201)
{
  "success": true,
  "message": "íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "user": {}, // User ëª¨ë¸ - 05. ë°ì´í„° ëª¨ë¸ ì°¸ì¡°
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9..."
  }
}
```

### 2.2 ë¡œê·¸ì¸

**POST** `/auth/login`

```json
// Request
{
  "email": "user@example.com",
  "password": "password123!"
}

// Response (200)
{
  "success": true,
  "message": "ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "user": {}, // User ëª¨ë¸
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9...",
    "expires_in": 3600
  }
}
```

### 2.3 ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ

**GET** `/auth/me`

```json
// Response (200)
{
  "success": true,
  "data": {} // UserProfile ëª¨ë¸ - 05. ë°ì´í„° ëª¨ë¸ ì°¸ì¡°
}
```

### 2.4 í† í° ê°±ì‹ 

**POST** `/auth/refresh`

```json
// Response (200)
{
  "success": true,
  "data": {
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9...",
    "expires_in": 3600
  }
}
```

### 2.5 ë¡œê·¸ì•„ì›ƒ

**POST** `/auth/logout`

```json
// Response (200)
{
  "success": true,
  "message": "ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

## 3. ê²Œì‹œë¬¼ API

### 3.1 ê²Œì‹œë¬¼ ëª©ë¡ ì¡°íšŒ

**GET** `/posts`

**Query Parameters**:

- `page` (int): í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
- `per_page` (int): í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ (ê¸°ë³¸ê°’: 20, ìµœëŒ€: 50)
- `sort` (string): ì •ë ¬ ë°©ì‹ (latest, oldest, popular)

```json
// Response (200)
{
  "success": true,
  "data": [
    {} // Post ëª¨ë¸ ë°°ì—´ - 05. ë°ì´í„° ëª¨ë¸ ì°¸ì¡°
  ],
  "meta": {} // PaginationMeta - 05. ë°ì´í„° ëª¨ë¸ ì°¸ì¡°
}
```

### 3.2 íŒ”ë¡œìš° í”¼ë“œ ì¡°íšŒ

**GET** `/posts/following`

```json
// Response (200) - ë™ì¼í•œ êµ¬ì¡°
```

### 3.3 ê²Œì‹œë¬¼ ìƒì„¸ ì¡°íšŒ

**GET** `/posts/{id}`

```json
// Response (200)
{
  "success": true,
  "data": {} // Post ëª¨ë¸ - 05. ë°ì´í„° ëª¨ë¸ ì°¸ì¡°
}
```

### 3.4 ê²Œì‹œë¬¼ ì‘ì„±

**POST** `/posts`

```json
// Request
{
  "content": "ê²Œì‹œë¬¼ ë‚´ìš©ì…ë‹ˆë‹¤",
  "files": [
    {
      "file_path": "/tmp/upload/abc123.jpg",
      "file_name": "image.jpg",
      "file_order": 0
    }
  ]
}

// Response (201)
{
  "success": true,
  "message": "ê²Œì‹œë¬¼ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {} // Post ëª¨ë¸
}
```

### 3.5 ê²Œì‹œë¬¼ ìˆ˜ì •

**PUT** `/posts/{id}`

```json
// Request
{
  "content": "ìˆ˜ì •ëœ ê²Œì‹œë¬¼ ë‚´ìš©"
}

// Response (200)
{
  "success": true,
  "message": "ê²Œì‹œë¬¼ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {} // Post ëª¨ë¸
}
```

### 3.6 ê²Œì‹œë¬¼ ì‚­ì œ

**DELETE** `/posts/{id}`

```json
// Response (200)
{
  "success": true,
  "message": "ê²Œì‹œë¬¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

### 3.7 ê²Œì‹œë¬¼ ì¢‹ì•„ìš”/ì·¨ì†Œ

**POST** `/posts/{id}/toggle-like`

```json
// Response (200)
{
  "success": true,
  "message": "ì¢‹ì•„ìš”ê°€ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "is_liked": true,
    "likes_count": 6
  }
}
```

## 4. ëŒ“ê¸€ API

### 4.1 ëŒ“ê¸€ ëª©ë¡ ì¡°íšŒ

**GET** `/posts/{post_id}/comments`

```json
// Response (200)
{
  "success": true,
  "data": [
    {} // Comment ëª¨ë¸ ë°°ì—´ - 05. ë°ì´í„° ëª¨ë¸ ì°¸ì¡°
  ],
  "meta": {} // PaginationMeta
}
```

### 4.2 ëŒ“ê¸€ ì‘ì„±

**POST** `/posts/{post_id}/comments`

```json
// Request
{
  "content": "ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤"
}

// Response (201)
{
  "success": true,
  "message": "ëŒ“ê¸€ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {} // Comment ëª¨ë¸
}
```

### 4.3 ë‹µê¸€ ì‘ì„±

**POST** `/comments/{comment_id}/replies`

```json
// Request
{
  "content": "ë‹µê¸€ ë‚´ìš©ì…ë‹ˆë‹¤",
  "mentioned_user_id": 2
}

// Response (201)
{
  "success": true,
  "message": "ë‹µê¸€ì´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {} // Reply ëª¨ë¸ - 05. ë°ì´í„° ëª¨ë¸ ì°¸ì¡°
}
```

## 5. ì†Œì…œ ê¸°ëŠ¥ API

### 5.1 íŒ”ë¡œìš°

**POST** `/users/{user_id}/follow`

```json
// Response (200)
{
  "success": true,
  "message": "íŒ”ë¡œìš°í•˜ì˜€ìŠµë‹ˆë‹¤",
  "data": {
    "is_following": true,
    "followers_count": 101
  }
}
```

### 5.2 ì–¸íŒ”ë¡œìš°

**DELETE** `/users/{user_id}/follow`

```json
// Response (200)
{
  "success": true,
  "message": "ì–¸íŒ”ë¡œìš°í•˜ì˜€ìŠµë‹ˆë‹¤",
  "data": {
    "is_following": false,
    "followers_count": 100
  }
}
```

### 5.3 ì¹œêµ¬ ìš”ì²­

**POST** `/users/{user_id}/friend-request`

```json
// Response (200)
{
  "success": true,
  "message": "ì¹œêµ¬ ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤",
  "data": {
    "friend_status": "pending"
  }
}
```

### 5.4 ì¹œêµ¬ ìš”ì²­ ìˆ˜ë½/ê±°ì ˆ

**POST** `/friend-requests/{request_id}/respond`

```json
// Request
{
  "action": "accept" // accept | reject
}

// Response (200)
{
  "success": true,
  "message": "ì¹œêµ¬ ìš”ì²­ì„ ìˆ˜ë½í•˜ì˜€ìŠµë‹ˆë‹¤",
  "data": {
    "friend_status": "accepted"
  }
}
```

### 5.5 ì‚¬ìš©ì ì°¨ë‹¨/í•´ì œ

**POST** `/users/{user_id}/block`
**DELETE** `/users/{user_id}/block`

```json
// Response (200)
{
  "success": true,
  "message": "ì‚¬ìš©ìë¥¼ ì°¨ë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤",
  "data": {
    "is_blocked": true
  }
}
```

## 6. ì±„íŒ…ë°© API

### 6.1 ë‚´ ì±„íŒ…ë°© ëª©ë¡

**GET** `/chatrooms`

```json
// Response (200)
{
  "success": true,
  "data": [
    {} // ChatRoom ëª¨ë¸ ë°°ì—´ - 05. ë°ì´í„° ëª¨ë¸ ì°¸ì¡°
  ]
}
```

### 6.2 ì±„íŒ…ë°© ìƒì„±

**POST** `/chatrooms`

```json
// Request
{
  "name": "ìƒˆ ì±„íŒ…ë°©",
  "description": "ì±„íŒ…ë°© ì„¤ëª…",
  "is_open": false,
  "max_participants": 50
}

// Response (201)
{
  "success": true,
  "message": "ì±„íŒ…ë°©ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {} // ChatRoom ëª¨ë¸
}
```

### 6.3 ì±„íŒ…ë°© ìƒì„¸ ì •ë³´

**GET** `/chatrooms/{id}`

```json
// Response (200)
{
  "success": true,
  "data": {} // ChatRoom ëª¨ë¸
}
```

### 6.4 ì±„íŒ…ë°© ë©¤ë²„ ì´ˆëŒ€

**POST** `/chatrooms/{id}/invite`

```json
// Request
{
  "user_ids": [2, 3, 4]
}

// Response (200)
{
  "success": true,
  "message": "ì‚¬ìš©ìë¥¼ ì´ˆëŒ€í•˜ì˜€ìŠµë‹ˆë‹¤"
}
```

### 6.5 ì±„íŒ…ë°© ë‚˜ê°€ê¸°

**DELETE** `/chatrooms/{id}/leave`

```json
// Response (200)
{
  "success": true,
  "message": "ì±„íŒ…ë°©ì„ ë‚˜ê°”ìŠµë‹ˆë‹¤"
}
```

## 7. ì•Œë¦¼ API

### 7.1 ì•Œë¦¼ ëª©ë¡

**GET** `/notifications`

```json
// Response (200)
{
  "success": true,
  "data": [
    {} // Notification ëª¨ë¸ ë°°ì—´ - 05. ë°ì´í„° ëª¨ë¸ ì°¸ì¡°
  ],
  "meta": {} // PaginationMeta
}
```

### 7.2 ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬

**PUT** `/notifications/{id}/read`

```json
// Response (200)
{
  "success": true,
  "message": "ì•Œë¦¼ì„ ì½ìŒ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤"
}
```

### 7.3 ëª¨ë“  ì•Œë¦¼ ì½ìŒ ì²˜ë¦¬

**PUT** `/notifications/read-all`

```json
// Response (200)
{
  "success": true,
  "message": "ëª¨ë“  ì•Œë¦¼ì„ ì½ìŒ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤"
}
```

## 8. íŒŒì¼ ì—…ë¡œë“œ API

### 8.1 ì„ì‹œ íŒŒì¼ ì—…ë¡œë“œ

**POST** `/upload/temporary`

```http
Content-Type: multipart/form-data

file: [binary]
upload_type: "post" // post, profile, message
```

```json
// Response (200)
{
  "success": true,
  "data": {
    "file_path": "/tmp/upload/abc123.jpg",
    "file_name": "abc123.jpg",
    "original_name": "photo.jpg",
    "file_size": 1024000,
    "mime_type": "image/jpeg"
  }
}
```

## 9. ê²€ìƒ‰ API

### 9.1 í†µí•© ê²€ìƒ‰

**GET** `/search`

**Query Parameters**:

- `q` (string): ê²€ìƒ‰ì–´
- `type` (string): ê²€ìƒ‰ íƒ€ì… (all, users, posts, chatrooms)
- `page` (int): í˜ì´ì§€ ë²ˆí˜¸

```json
// Response (200)
{
  "success": true,
  "data": {
    "query": "ê²€ìƒ‰ì–´",
    "users": [], // UserProfile ëª¨ë¸ ë°°ì—´
    "posts": [], // Post ëª¨ë¸ ë°°ì—´
    "chatrooms": [], // ChatRoom ëª¨ë¸ ë°°ì—´
    "total_count": {
      "users": 5,
      "posts": 10,
      "chatrooms": 2
    }
  }
}
```

## 10. ì—ëŸ¬ ì‘ë‹µ

### 10.1 ìœ íš¨ì„± ê²€ì¦ ì˜¤ë¥˜ (422)

```json
{
  "success": false,
  "message": "ì…ë ¥ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤",
  "errors": {
    "email": ["ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤"],
    "password": ["ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤"]
  }
}
```

### 10.2 ì¸ì¦ ì˜¤ë¥˜ (401)

```json
{
  "success": false,
  "message": "ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤",
  "error_code": "UNAUTHENTICATED"
}
```

### 10.3 ê¶Œí•œ ì˜¤ë¥˜ (403)

```json
{
  "success": false,
  "message": "ê¶Œí•œì´ ë¶€ì¡±í•©ë‹ˆë‹¤",
  "error_code": "FORBIDDEN"
}
```

### 10.4 ë¦¬ì†ŒìŠ¤ ì—†ìŒ (404)

```json
{
  "success": false,
  "message": "ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
  "error_code": "NOT_FOUND"
}
```

## 11. ì¸í„°í˜ì´ìŠ¤ ëª…ì„¸ ì°¸ì¡°

### 11.1 ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ 

**ìƒì„¸ ì¸í„°í˜ì´ìŠ¤**: [ğŸ“„ 12. ì»´í¬ë„ŒíŠ¸ ê°„ ì¸í„°í˜ì´ìŠ¤ ëª…ì„¸ ì°¸ì¡°](./12.%20ì»´í¬ë„ŒíŠ¸%20ê°„%20ì¸í„°í˜ì´ìŠ¤%20ëª…ì„¸.md)

### 11.2 ì‹¤ì‹œê°„ ì†Œì¼“ ì—°ë™

**ì†Œì¼“ í”„ë¡œí† ì½œ**: [ğŸ“„ 04. Java ì‹¤ì‹œê°„ ì†Œì¼“ ì„œë²„ ë©”ì‹œì§€ í”„ë¡œí† ì½œ ì°¸ì¡°](./04.%20Java%20ì‹¤ì‹œê°„%20ì†Œì¼“%20ì„œë²„%20ë©”ì‹œì§€%20í”„ë¡œí† ì½œ.md)

---

ğŸ’¡ **ì°¸ê³ **: ëª¨ë“  ì‘ë‹µ ë°ì´í„° êµ¬ì¡°ëŠ” [ğŸ“„ 05. ì£¼ìš” ë°ì´í„° ëª¨ë¸ ì •ì˜](./05.%20ì£¼ìš”%20ë°ì´í„°%20ëª¨ë¸%20ì •ì˜.md)ë¥¼ ì°¸ì¡°í•˜ì—¬ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.
