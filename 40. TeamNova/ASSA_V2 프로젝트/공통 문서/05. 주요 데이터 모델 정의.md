---
created: 2025-05-29T23:51
updated: 2025-05-30T01:20
version: 1.1
tags:
  - ë°ì´í„°_ëª¨ë¸
  - JSON_êµ¬ì¡°
  - DTO
  - VO
  - API_ì‘ë‹µ_í˜•ì‹
llm_keywords:
  - ë°ì´í„°ëª¨ë¸
  - JSON
  - User
  - Post
  - Comment
  - Message
  - ChatRoom
  - APIì‘ë‹µ
context: ì‹œìŠ¤í…œ ì „ì²´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê³µí†µ ë°ì´í„° ëª¨ë¸ ì •ì˜ - ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ê°„ ë°ì´í„° ì¼ê´€ì„± ë³´ì¥
importance: critical
audience:
  - all_llm
  - android_dev
  - php_backend
  - java_socket
relationships:
  - 02_DBìŠ¤í‚¤ë§ˆ
  - 03_APIëª…ì„¸
  - 04_ì†Œì¼“í”„ë¡œí† ì½œ
  - 12_ì¸í„°í˜ì´ìŠ¤ëª…ì„¸
---

# ğŸ¤– ASSA ì£¼ìš” ë°ì´í„° ëª¨ë¸ ì •ì˜ v1.1

## ğŸ“Š LLM ë¹ ë¥¸ ì°¸ì¡° ì •ë³´

### ğŸ¯ **ë¬¸ì„œ ëª©ì **

- **ì£¼ ëª©ì **: ì‹œìŠ¤í…œ ì „ì²´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê³µí†µ ë°ì´í„° êµ¬ì¡° ì •ì˜
- **LLM í™œìš©**: API ê°œë°œ, í´ë¼ì´ì–¸íŠ¸ ëª¨ë¸ ì„¤ê³„, ë°ì´í„° ê²€ì¦ ë¡œì§ êµ¬í˜„
- **ì°¸ì¡° ì‹œì **: ë°ì´í„° êµ¬ì¡°ê°€ í•„ìš”í•œ ëª¨ë“  ê°œë°œ ë‹¨ê³„

### ğŸ” **í•µì‹¬ ëª¨ë¸ ì¹´í…Œê³ ë¦¬**

```
ğŸ‘¤ ì‚¬ìš©ì ê´€ë ¨: User, UserProfile, OAuth
ğŸ“ ê²Œì‹œë¬¼ ê´€ë ¨: Post, Comment, Reply, PostFile
ğŸ‘¥ ì†Œì…œ ê´€ê³„: Follow, Friend, BlockedUser
ğŸ’¬ ì±„íŒ… ê´€ë ¨: ChatRoom, Message, ChatMember
ğŸ“¹ ì˜ìƒí†µí™”: VideoRoom, VideoParticipant
ğŸ”” ì•Œë¦¼ ê´€ë ¨: Notification, NotificationSetting
ğŸ“¡ ì‘ë‹µ í˜•ì‹: ApiResponse, PaginationMeta
```

### ğŸ“š **ê´€ë ¨ ë¬¸ì„œ ë§¤í•‘**

- **DB ìŠ¤í‚¤ë§ˆ** â†’ [ğŸ“„ 02. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](./02.%20ë°ì´í„°ë² ì´ìŠ¤%20ìŠ¤í‚¤ë§ˆ.md)
- **API ëª…ì„¸** â†’ [ğŸ“„ 03. PHP ë°±ì—”ë“œ API ëª…ì„¸](./03.%20PHP%20ë°±ì—”ë“œ%20API%20ëª…ì„¸.md)
- **ì†Œì¼“ í”„ë¡œí† ì½œ** â†’ [ğŸ“„ 04. Java ì‹¤ì‹œê°„ ì†Œì¼“ ì„œë²„ ë©”ì‹œì§€ í”„ë¡œí† ì½œ](./04.%20Java%20ì‹¤ì‹œê°„%20ì†Œì¼“%20ì„œë²„%20ë©”ì‹œì§€%20í”„ë¡œí† ì½œ.md)
- **ì¸í„°í˜ì´ìŠ¤ ëª…ì„¸** â†’ [ğŸ“„ 12. ì»´í¬ë„ŒíŠ¸ ê°„ ì¸í„°í˜ì´ìŠ¤ ëª…ì„¸](./12.%20ì»´í¬ë„ŒíŠ¸%20ê°„%20ì¸í„°í˜ì´ìŠ¤%20ëª…ì„¸.md)

---

# 5. ASSA ì£¼ìš” ë°ì´í„° ëª¨ë¸ ì •ì˜ v1.1

## 1. ë°ì´í„° ëª¨ë¸ ê°œìš”

### 1.1 ëª¨ë¸ ë¶„ë¥˜

- **ì‚¬ìš©ì ê´€ë ¨ ëª¨ë¸**: User, UserProfile, OAuth
- **ê²Œì‹œë¬¼ ê´€ë ¨ ëª¨ë¸**: Post, Comment, Reply, PostFile
- **ì†Œì…œ ê´€ê³„ ëª¨ë¸**: Follow, Friend, BlockedUser
- **ì±„íŒ… ê´€ë ¨ ëª¨ë¸**: ChatRoom, Message, ChatMember
- **ì˜ìƒí†µí™” ëª¨ë¸**: VideoRoom, VideoParticipant
- **ì•Œë¦¼ ëª¨ë¸**: Notification, NotificationSetting
- **ì‘ë‹µ ëª¨ë¸**: ApiResponse, PaginationMeta

### 1.2 ê³µí†µ ê·œì¹™

- **í•„ë“œëª…**: snake_case (DB/API), camelCase (Java/JSON)
- **ë‚ ì§œ/ì‹œê°„**: ISO 8601 í˜•ì‹ (YYYY-MM-DDTHH:mm:ss.sssZ)
- **ID**: Long/BigInt íƒ€ì… ì‚¬ìš©
- **ì„ íƒì  í•„ë“œ**: nullable ë˜ëŠ” optionalë¡œ í‘œì‹œ
- **ì—´ê±°í˜•**: ë¬¸ìì—´ ìƒìˆ˜ë¡œ ì •ì˜

### 1.3 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì°¸ì¡°

**ìƒì„¸ í…Œì´ë¸” êµ¬ì¡°**: [ğŸ“„ 02. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì°¸ì¡°](./02.%20ë°ì´í„°ë² ì´ìŠ¤%20ìŠ¤í‚¤ë§ˆ.md)

## 2. ì‚¬ìš©ì ê´€ë ¨ ëª¨ë¸

### 2.1 User (ì‚¬ìš©ì)

```json
{
  "id": 1,
  "email": "user@example.com",
  "nickname": "ì‚¬ìš©ìë‹‰ë„¤ì„",
  "profile_image": "/storage/profiles/1.jpg",
  "introduction": "ì•ˆë…•í•˜ì„¸ìš”!",
  "email_verified_at": "2024-01-01T00:00:00.000Z",
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z"
}
```

**í•„ë“œ ì„¤ëª…**:

- `id` (Long): ì‚¬ìš©ì ê³ ìœ  ì‹ë³„ì
- `email` (String): ë¡œê·¸ì¸ìš© ì´ë©”ì¼ ì£¼ì†Œ (**DB ìŠ¤í‚¤ë§ˆ ì°¸ì¡°**: [ğŸ“„ users í…Œì´ë¸”](./02.%20ë°ì´í„°ë² ì´ìŠ¤%20ìŠ¤í‚¤ë§ˆ.md#21-users-ì‚¬ìš©ì))
- `nickname` (String): í™”ë©´ í‘œì‹œìš© ë‹‰ë„¤ì„
- `profile_image` (String, nullable): í”„ë¡œí•„ ì´ë¯¸ì§€ URL/ê²½ë¡œ
- `introduction` (String, nullable): ìê¸°ì†Œê°œ

### 2.2 UserProfile (ì‚¬ìš©ì í”„ë¡œí•„ í™•ì¥)

```json
{
  "id": 1,
  "nickname": "ì‚¬ìš©ìë‹‰ë„¤ì„",
  "profile_image": "/storage/profiles/1.jpg",
  "introduction": "ì•ˆë…•í•˜ì„¸ìš”!",
  "created_at": "2024-01-01T00:00:00.000Z",
  "posts_count": 25,
  "followers_count": 100,
  "following_count": 50,
  "is_following": false,
  "friend_status": "none",
  "is_blocked": false,
  "is_online": true,
  "last_seen": "2024-01-01T12:00:00.000Z"
}
```

**ê³„ì‚° í•„ë“œ**:

- `posts_count`, `followers_count`, `following_count`: ê´€ë ¨ í…Œì´ë¸” COUNT ì¿¼ë¦¬ ê²°ê³¼
- `is_following`, `friend_status`, `is_blocked`: ìš”ì²­ ì‚¬ìš©ìì™€ì˜ ê´€ê³„ ìƒíƒœ

## 3. ê²Œì‹œë¬¼ ê´€ë ¨ ëª¨ë¸

### 3.1 Post (ê²Œì‹œë¬¼)

```json
{
  "id": 1,
  "user_id": 1,
  "content": "ê²Œì‹œë¬¼ ë‚´ìš©ì…ë‹ˆë‹¤.",
  "view_count": 10,
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z",
  "user": {
    "id": 1,
    "nickname": "ì‘ì„±ìë‹‰ë„¤ì„",
    "profile_image": "/storage/profiles/1.jpg"
  },
  "files": [
    {
      "id": 1,
      "file_path": "/storage/posts/image1.jpg",
      "file_name": "image1.jpg",
      "file_order": 0,
      "file_size": 1024000,
      "mime_type": "image/jpeg"
    }
  ],
  "likes_count": 5,
  "comments_count": 3,
  "is_liked": false,
  "is_editable": true
}
```

**ê´€ê³„ í•„ë“œ**:

- `user`: User ëª¨ë¸ ì°¸ì¡°
- `files`: PostFile ëª¨ë¸ ë°°ì—´
- **DB ê´€ê³„**: [ğŸ“„ posts í…Œì´ë¸” ì°¸ì¡°](./02.%20ë°ì´í„°ë² ì´ìŠ¤%20ìŠ¤í‚¤ë§ˆ.md#31-posts-ê²Œì‹œë¬¼)

### 3.2 Comment (ëŒ“ê¸€)

```json
{
  "id": 1,
  "post_id": 1,
  "user_id": 1,
  "content": "ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤.",
  "is_edited": false,
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z",
  "user": {
    "id": 1,
    "nickname": "ëŒ“ê¸€ì‘ì„±ì",
    "profile_image": "/storage/profiles/1.jpg"
  },
  "likes_count": 2,
  "replies_count": 1,
  "is_liked": false,
  "is_editable": true
}
```

### 3.3 Reply (ë‹µê¸€)

```json
{
  "id": 1,
  "comment_id": 1,
  "user_id": 1,
  "content": "ë‹µê¸€ ë‚´ìš©ì…ë‹ˆë‹¤.",
  "mentioned_user_id": 2,
  "is_edited": false,
  "created_at": "2024-01-01T00:00:00.000Z",
  "user": {
    "id": 1,
    "nickname": "ë‹µê¸€ì‘ì„±ì",
    "profile_image": "/storage/profiles/1.jpg"
  },
  "mentioned_user": {
    "id": 2,
    "nickname": "ë©˜ì…˜ëœì‚¬ìš©ì",
    "profile_image": "/storage/profiles/2.jpg"
  },
  "is_editable": true
}
```

## 4. ì±„íŒ… ê´€ë ¨ ëª¨ë¸

### 4.1 ChatRoom (ì±„íŒ…ë°©)

```json
{
  "id": 1,
  "name": "ê°œë°œì ëª¨ì„",
  "description": "ê°œë°œ ê´€ë ¨ í† ë¡ ë°©",
  "host_user_id": 1,
  "is_open": true,
  "max_participants": 50,
  "created_at": "2024-01-01T00:00:00.000Z",
  "host_user": {
    "id": 1,
    "nickname": "ë°©ì¥ë‹‰ë„¤ì„",
    "profile_image": "/storage/profiles/1.jpg"
  },
  "participants_count": 25,
  "is_participant": true,
  "last_message": {
    "id": 100,
    "content": "ì•ˆë…•í•˜ì„¸ìš”!",
    "user_nickname": "ì‚¬ìš©ì",
    "created_at": "2024-01-01T12:00:00.000Z"
  }
}
```

**DB ê´€ê³„**: [ğŸ“„ chat_rooms í…Œì´ë¸” ì°¸ì¡°](./02.%20ë°ì´í„°ë² ì´ìŠ¤%20ìŠ¤í‚¤ë§ˆ.md#61-chat_rooms-ì±„íŒ…ë°©)

### 4.2 Message (ë©”ì‹œì§€)

```json
{
  "id": 1,
  "chatroom_id": 1,
  "user_id": 1,
  "content": "ì•ˆë…•í•˜ì„¸ìš”!",
  "message_type": "text",
  "created_at": "2024-01-01T00:00:00.000Z",
  "user": {
    "id": 1,
    "nickname": "ë©”ì‹œì§€ì‘ì„±ì",
    "profile_image": "/storage/profiles/1.jpg"
  }
}
```

**ë©”ì‹œì§€ íƒ€ì…**: text, image, system, file
**ì†Œì¼“ í”„ë¡œí† ì½œ**: [ğŸ“„ 04. Java ì‹¤ì‹œê°„ ì†Œì¼“ ì„œë²„ ë©”ì‹œì§€ í”„ë¡œí† ì½œ ì°¸ì¡°](./04.%20Java%20ì‹¤ì‹œê°„%20ì†Œì¼“%20ì„œë²„%20ë©”ì‹œì§€%20í”„ë¡œí† ì½œ.md)

## 5. API ì‘ë‹µ ëª¨ë¸

### 5.1 ApiResponse (ê³µí†µ ì‘ë‹µ)

```json
{
  "success": true,
  "message": "ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    // ì‹¤ì œ ë°ì´í„°
  },
  "meta": {
    // ë©”íƒ€ë°ì´í„° (í˜ì´ì§€ë„¤ì´ì…˜ ë“±)
  },
  "timestamp": "2024-01-01T12:00:00.000Z"
}
```

**API ëª…ì„¸**: [ğŸ“„ 03. PHP ë°±ì—”ë“œ API ëª…ì„¸ ì°¸ì¡°](./03.%20PHP%20ë°±ì—”ë“œ%20API%20ëª…ì„¸.md)

### 5.2 PaginationMeta (í˜ì´ì§€ë„¤ì´ì…˜)

```json
{
  "current_page": 1,
  "per_page": 20,
  "total": 150,
  "last_page": 8,
  "from": 1,
  "to": 20,
  "has_more": true,
  "links": {
    "first": "/api/posts?page=1",
    "last": "/api/posts?page=8",
    "prev": null,
    "next": "/api/posts?page=2"
  }
}
```

## 6. ì†Œì¼“ ë©”ì‹œì§€ ëª¨ë¸

### 6.1 SocketMessage (ì†Œì¼“ ë©”ì‹œì§€)

```json
{
  "action": "SEND_MESSAGE",
  "data": {
    "chatroom_id": 1,
    "content": "ì•ˆë…•í•˜ì„¸ìš”!",
    "message_type": "text"
  },
  "timestamp": "2024-01-01T12:00:00.000Z",
  "seq_id": "msg_001",
  "user_id": 123
}
```

**ìƒì„¸ í”„ë¡œí† ì½œ**: [ğŸ“„ 04. Java ì‹¤ì‹œê°„ ì†Œì¼“ ì„œë²„ ë©”ì‹œì§€ í”„ë¡œí† ì½œ ì°¸ì¡°](./04.%20Java%20ì‹¤ì‹œê°„%20ì†Œì¼“%20ì„œë²„%20ë©”ì‹œì§€%20í”„ë¡œí† ì½œ.md)

## 7. ê´€ê³„ ëª¨ë¸

### 7.1 Follow (íŒ”ë¡œìš°)

```json
{
  "id": 1,
  "follower_id": 1,
  "following_id": 2,
  "created_at": "2024-01-01T00:00:00.000Z"
}
```

### 7.2 Friend (ì¹œêµ¬)

```json
{
  "id": 1,
  "requester_id": 1,
  "addressee_id": 2,
  "status": "accepted",
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T01:00:00.000Z"
}
```

**ìƒíƒœ ê°’**: pending, accepted, rejected

## 8. ì•Œë¦¼ ëª¨ë¸

### 8.1 Notification (ì•Œë¦¼)

```json
{
  "id": 1,
  "user_id": 1,
  "type": "new_message",
  "title": "ìƒˆ ë©”ì‹œì§€",
  "content": "ìƒˆë¡œìš´ ë©”ì‹œì§€ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤",
  "data": {
    "chatroom_id": 1,
    "message_id": 100
  },
  "is_read": false,
  "created_at": "2024-01-01T12:00:00.000Z"
}
```

**ì•Œë¦¼ íƒ€ì…**: new_message, new_comment, new_like, friend_request, etc.

## 9. ìœ íš¨ì„± ê²€ì¦ ê·œì¹™

### 9.1 ê³µí†µ ê·œì¹™

- **ì´ë©”ì¼**: RFC 5322 í‘œì¤€ í˜•ì‹
- **ë‹‰ë„¤ì„**: 2-20ì, ì˜ë¬¸/í•œê¸€/ìˆ«ì/ì–¸ë”ìŠ¤ì½”ì–´ë§Œ í—ˆìš©
- **ë¹„ë°€ë²ˆí˜¸**: 8ì ì´ìƒ, ì˜ë¬¸/ìˆ«ì/íŠ¹ìˆ˜ë¬¸ì í¬í•¨
- **ê²Œì‹œë¬¼ ë‚´ìš©**: ìµœëŒ€ 5000ì
- **ëŒ“ê¸€ ë‚´ìš©**: ìµœëŒ€ 1000ì

### 9.2 íŒŒì¼ ì œí•œ

- **í”„ë¡œí•„ ì´ë¯¸ì§€**: ìµœëŒ€ 5MB, jpg/png/gif
- **ê²Œì‹œë¬¼ ì²¨ë¶€**: ìµœëŒ€ 10MB, ì´ë¯¸ì§€/ë™ì˜ìƒ/ë¬¸ì„œ
- **ì±„íŒ… íŒŒì¼**: ìµœëŒ€ 20MB, ëª¨ë“  íŒŒì¼ íƒ€ì…

---

ğŸ’¡ **LLM ì°¸ê³ **: ì´ ë¬¸ì„œëŠ” JSON í˜•íƒœì˜ ë°ì´í„° ëª¨ë¸ì„ ì •ì˜í•˜ë©°, ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ëŠ” [ğŸ“„ 02. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](./02.%20ë°ì´í„°ë² ì´ìŠ¤%20ìŠ¤í‚¤ë§ˆ.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.
